# ===============================================
# üê≥ DOCKERFILE PARA DESENVOLVIMENTO
# ===============================================
# ‚ö†Ô∏è  CONFIGURA√á√ÉO SIMPLIFICADA - APENAS PARA DEV LOCAL
# 
# SEGURAN√áA:
# - Roda como root para compatibilidade com volumes
# - Build simplificado para velocidade de desenvolvimento
# - ‚ùå N√ÉO USAR EM PRODU√á√ÉO
# 
# Para produ√ß√£o, use Dockerfile.prod que inclui:
# - Usu√°rio n√£o-privilegiado
# - Multi-stage build
# - Security hardening
# ===============================================

FROM node:20-alpine

WORKDIR /app

# Copiar tudo de uma vez para desenvolvimento
COPY . .

# Instalar depend√™ncias
RUN npm install

# Expor portas
EXPOSE 3000 5555

# Comando com gera√ß√£o do Prisma no startup
CMD ["sh", "-c", "npx prisma generate && npm run dev"]